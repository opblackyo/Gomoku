# äº”å­æ£‹ç¶²ç«™é›²ç«¯éƒ¨ç½² - README

## ğŸ“š éƒ¨ç½²æ–‡ä»¶å°è¦½

æœ¬å°ˆæ¡ˆæä¾›å®Œæ•´çš„é›²ç«¯éƒ¨ç½²æ–‡ä»¶ï¼Œå”åŠ©ä½ å°‡äº”å­æ£‹ç¶²ç«™éƒ¨ç½²åˆ° **Render (å¾Œç«¯+è³‡æ–™åº«)** å’Œ **Vercel (å‰ç«¯)**ã€‚

### ğŸ“– ä¸»è¦æ–‡ä»¶

| æ–‡ä»¶ | èªªæ˜ | ç”¨é€” |
|------|------|------|
| [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md) | **å®Œæ•´éƒ¨ç½²æ‰‹å†Š** | è©³ç´°çš„æ­¥é©Ÿèªªæ˜ã€è¨­å®šç¯„ä¾‹ã€æª¢æŸ¥æ¸…å–® |
| [DEPLOYMENT_COMMANDS.md](./DEPLOYMENT_COMMANDS.md) | **å¿«é€ŸæŒ‡ä»¤åƒè€ƒ** | æ‰€æœ‰éœ€è¦åŸ·è¡Œçš„æŒ‡ä»¤æ•´ç† |

### ğŸš€ å¿«é€Ÿé–‹å§‹

1. **é–±è®€å®Œæ•´éƒ¨ç½²æ‰‹å†Š**
   ```powershell
   # é–‹å•Ÿéƒ¨ç½²æ‰‹å†Š
   code DEPLOYMENT_GUIDE.md
   ```

2. **æª¢æŸ¥å‰ç½®éœ€æ±‚**
   - Node.js 18+
   - pnpm
   - Git
   - GitHubã€Renderã€Vercel å¸³è™Ÿ

3. **ä¾ç…§æ‰‹å†Šæ­¥é©ŸåŸ·è¡Œ**
   - æº–å‚™ç¨‹å¼ç¢¼
   - éƒ¨ç½²å¾Œç«¯åˆ° Render
   - è¨­å®š PostgreSQL
   - éƒ¨ç½²å‰ç«¯åˆ° Vercel
   - æ¸¬è©¦èˆ‡é©—è­‰

### ğŸ“‚ æ–°å¢çš„éƒ¨ç½²æª”æ¡ˆ

```
gomoku/
â”œâ”€â”€ DEPLOYMENT_GUIDE.md              # å®Œæ•´éƒ¨ç½²æ‰‹å†Š
â”œâ”€â”€ DEPLOYMENT_COMMANDS.md           # å¿«é€ŸæŒ‡ä»¤åƒè€ƒ
â”œâ”€â”€ vercel.json                      # Vercel è¨­å®šæª”
â”œâ”€â”€ test-websocket.js                # WebSocket é€£ç·šæ¸¬è©¦
â”œâ”€â”€ test-full-flow.js                # å®Œæ•´æµç¨‹æ¸¬è©¦
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ .nvmrc                       # Node ç‰ˆæœ¬æŒ‡å®š
â”‚   â”œâ”€â”€ .env.example                 # å¾Œç«¯ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
â”‚   â”œâ”€â”€ render-build.sh              # Render å»ºç½®è…³æœ¬
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.ts                  # âœ… å·²æ›´æ–°ï¼ˆæ”¯æ´ç”Ÿç”¢ç’°å¢ƒï¼‰
â”‚   â”‚   â”œâ”€â”€ app.module.ts            # âœ… å·²æ›´æ–°ï¼ˆæ–°å¢ Health & Databaseï¼‰
â”‚   â”‚   â”œâ”€â”€ health.controller.ts     # â‡ï¸ æ–°å¢ï¼ˆå¥åº·æª¢æŸ¥ï¼‰
â”‚   â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”‚   â”œâ”€â”€ database.module.ts   # â‡ï¸ æ–°å¢ï¼ˆè³‡æ–™åº«æ¨¡çµ„ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ database.service.ts  # â‡ï¸ æ–°å¢ï¼ˆè³‡æ–™åº«æœå‹™ï¼‰
â”‚   â”‚   â””â”€â”€ modules/
â”‚   â”‚       â””â”€â”€ gateway/
â”‚   â”‚           â””â”€â”€ game.gateway.ts  # âœ… å·²æ›´æ–°ï¼ˆCORS è¨­å®šï¼‰
â”‚   â””â”€â”€ database/
â”‚       â”œâ”€â”€ init.sql                 # è³‡æ–™åº«åˆå§‹åŒ– SQL
â”‚       â””â”€â”€ migrate.js               # è³‡æ–™åº«é·ç§»è…³æœ¬
â””â”€â”€ frontend/
    â”œâ”€â”€ .env.example                 # å‰ç«¯ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
    â”œâ”€â”€ .env.production              # ç”Ÿç”¢ç’°å¢ƒè®Šæ•¸
    â””â”€â”€ src/
        â””â”€â”€ websocket/
            â””â”€â”€ socket.ts            # âœ… å·²æ›´æ–°ï¼ˆç”Ÿç”¢ç’°å¢ƒæ”¯æ´ï¼‰
```

### ğŸ”§ ä¿®æ”¹çš„æª”æ¡ˆç¸½è¦½

#### å¾Œç«¯æª”æ¡ˆ
- âœ… `backend/src/main.ts` - æ”¯æ´ç”Ÿç”¢ç’°å¢ƒ CORS è¨­å®š
- âœ… `backend/src/app.module.ts` - æ–°å¢ Health Controller å’Œ Database Module
- âœ… `backend/src/modules/gateway/game.gateway.ts` - æ›´æ–° CORS è¨­å®š
- âœ… `backend/package.json` - æ–°å¢ pg ä¾è³´
- â‡ï¸ `backend/src/health.controller.ts` - æ–°å»ºå¥åº·æª¢æŸ¥ç«¯é»
- â‡ï¸ `backend/src/database/database.module.ts` - æ–°å»ºè³‡æ–™åº«æ¨¡çµ„
- â‡ï¸ `backend/src/database/database.service.ts` - æ–°å»ºè³‡æ–™åº«æœå‹™

#### å‰ç«¯æª”æ¡ˆ
- âœ… `frontend/src/websocket/socket.ts` - æ”¯æ´ç”Ÿç”¢ç’°å¢ƒé€£ç·šã€å®Œå–„éŒ¯èª¤è™•ç†

### ğŸ¯ éƒ¨ç½²æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ä½¿ç”¨è€…ç€è¦½å™¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ HTTPS
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Vercel      â”‚ â—„â”€â”€ å‰ç«¯ (Vue 3 + Vite)
â”‚   (Frontend)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ WSS
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Render      â”‚â”€â”€â”€â”€â–¶â”‚   Render     â”‚
â”‚   (Backend)     â”‚     â”‚ (PostgreSQL) â”‚
â”‚  NestJS + WS    â”‚     â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“‹ éƒ¨ç½²æ­¥é©Ÿæ¦‚è¦½

1. **æº–å‚™ç¨‹å¼ç¢¼**
   - æ›´æ–°ç’°å¢ƒè®Šæ•¸è¨­å®š
   - æ¨é€åˆ° GitHub

2. **éƒ¨ç½²å¾Œç«¯** (Render)
   - å»ºç«‹ Web Service
   - è¨­å®šç’°å¢ƒè®Šæ•¸
   - é€£æ¥ GitHub è‡ªå‹•éƒ¨ç½²

3. **è¨­å®šè³‡æ–™åº«** (Render PostgreSQL)
   - å»ºç«‹ PostgreSQL å¯¦ä¾‹
   - åŸ·è¡Œåˆå§‹åŒ– SQL
   - æ›´æ–°å¾Œç«¯é€£ç·šè¨­å®š

4. **éƒ¨ç½²å‰ç«¯** (Vercel)
   - é€£æ¥ GitHub repository
   - è¨­å®šç’°å¢ƒè®Šæ•¸
   - è‡ªå‹•å»ºç½®èˆ‡éƒ¨ç½²

5. **æ¸¬è©¦é©—è­‰**
   - å¥åº·æª¢æŸ¥
   - WebSocket é€£ç·š
   - å®Œæ•´éŠæˆ²æµç¨‹

### ğŸ§ª æ¸¬è©¦æŒ‡ä»¤

```powershell
# æ¸¬è©¦å¾Œç«¯å¥åº·æª¢æŸ¥
curl https://gomoku-backend.onrender.com/health

# æ¸¬è©¦ WebSocket é€£ç·š
node test-websocket.js

# æ¸¬è©¦å®Œæ•´éŠæˆ²æµç¨‹
node test-full-flow.js
```

### ğŸ†˜ éœ€è¦å”åŠ©ï¼Ÿ

1. **æŸ¥çœ‹å®Œæ•´éƒ¨ç½²æ‰‹å†Š** - [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md)
2. **åƒè€ƒå¸¸è¦‹å•é¡Œ** - æ‰‹å†Šä¸­çš„ã€Œå¸¸è¦‹å•é¡Œæ’è§£ã€ç« ç¯€
3. **æŸ¥çœ‹æ—¥èªŒ**
   - Render: Dashboard â†’ Service â†’ Logs
   - Vercel: Dashboard â†’ Deployments â†’ Build Logs

### ğŸ“Š æˆæœ¬ä¼°ç®—

| æœå‹™ | å…è²»æ–¹æ¡ˆ | ä»˜è²»æ–¹æ¡ˆ |
|------|---------|----------|
| Render Web Service | âœ… (æœ‰ä¼‘çœ ) | $7/æœˆ |
| Render PostgreSQL | âœ… 90å¤© | $7/æœˆ |
| Vercel | âœ… å……è¶³ | $20/æœˆ |
| **ç¸½è¨ˆ** | **$0** | **$14-27/æœˆ** |

### âœ… éƒ¨ç½²å®Œæˆç¢ºèª

å®Œæˆéƒ¨ç½²å¾Œï¼Œä½ æ‡‰è©²å¯ä»¥ï¼š
- [ ] è¨ªå•å‰ç«¯ç¶²ç«™ (https://gomoku.vercel.app)
- [ ] å¾Œç«¯å¥åº·æª¢æŸ¥æ­£å¸¸
- [ ] WebSocket é€£ç·šæˆåŠŸ
- [ ] å…©å€‹ç©å®¶å¯ä»¥é…å°
- [ ] éŠæˆ²æµç¨‹æ­£å¸¸é‹ä½œ
- [ ] çµ±è¨ˆè³‡æ–™æ­£ç¢ºè¨˜éŒ„

### ğŸ‰ å®Œæˆï¼

éƒ¨ç½²å®Œæˆå¾Œï¼Œä½ çš„äº”å­æ£‹ç¶²ç«™å°‡å¯ä»¥ï¼š
- å…¨çƒè¨ªå•ï¼ˆé€é CDNï¼‰
- æ”¯æ´ HTTPS å®‰å…¨é€£ç·š
- WebSocket å³æ™‚é€šè¨Š
- è³‡æ–™åº«æ°¸ä¹…å„²å­˜
- è‡ªå‹•æ“´å±•ï¼ˆä¾æµé‡ï¼‰

---

**ç¥éƒ¨ç½²é †åˆ©ï¼** ğŸš€

å¦‚æœ‰ä»»ä½•å•é¡Œï¼Œè«‹åƒè€ƒ [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md) ä¸­çš„è©³ç´°èªªæ˜å’Œç–‘é›£æ’è§£ç« ç¯€ã€‚

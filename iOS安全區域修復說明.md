# iOS å®‰å…¨å€åŸŸä¿®å¾©èªªæ˜

## å•é¡Œåˆ†æ

### ç‚ºä»€éº¼åå­—è¢«æ“‹ä½ï¼Ÿ

åœ¨ iPhone X åŠæ›´æ–°æ©Ÿå‹ä¸Šï¼Œè¢å¹•é ‚éƒ¨æœ‰ã€Œç€æµ·ã€ï¼ˆnotchï¼‰ï¼ŒiOS Safari æœƒåœ¨é€™å€‹å€åŸŸé¡¯ç¤ºç‹€æ…‹åˆ—ï¼ˆæ™‚é–“ã€é›»æ± ã€è¨Šè™Ÿç­‰ï¼‰ã€‚å¦‚æœç¶²é å…§å®¹æ²’æœ‰æ­£ç¢ºè™•ç†å®‰å…¨å€åŸŸï¼Œå°±æœƒè¢«é®æ“‹ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”‹ 10:50 ğŸ“¶ 100%  [ç€æµ·]        â”‚ â† iOS ç‹€æ…‹åˆ—ï¼ˆç³»çµ± UIï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜° [Player1] [Player2]           â”‚ â† ç¶²é å…§å®¹è¢«é®æ“‹ âŒ
â”‚    0å‹0æ•—0ç„¡   0å‹0æ•—0ç„¡         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## éŒ¯èª¤çš„ä¿®å¾©æ–¹å¼ âŒ

### æ–¹å¼ 1ï¼šåœ¨å­å…ƒç´ æ·»åŠ  paddingï¼ˆç„¡æ•ˆï¼‰
```css
.top-bar {
  padding-top: env(safe-area-inset-top); /* âŒ ä¸èµ·ä½œç”¨ */
}
```

**ç‚ºä»€éº¼ç„¡æ•ˆï¼Ÿ**
- ç•¶ `html, body` æœ‰ `position: fixed` æ™‚ï¼Œ`env()` è®Šæ•¸æœƒå¤±æ•ˆ
- å­å…ƒç´ ç„¡æ³•æ­£ç¢ºç²å–å®‰å…¨å€åŸŸçš„å€¼

### æ–¹å¼ 2ï¼šä½¿ç”¨ marginï¼ˆç„¡æ•ˆï¼‰
```css
.top-bar {
  margin-top: env(safe-area-inset-top); /* âŒ ä¸èµ·ä½œç”¨ */
}
```

**ç‚ºä»€éº¼ç„¡æ•ˆï¼Ÿ**
- åŒæ¨£å—åˆ° `position: fixed` çš„å½±éŸ¿
- margin ä¸æœƒæ¨é–‹ç³»çµ± UI

## æ­£ç¢ºçš„ä¿®å¾©æ–¹å¼ âœ…

### æ­¥é©Ÿ 1ï¼šè¨­å®š viewport-fit=cover
```html
<meta name="viewport" content="viewport-fit=cover">
```
é€™è®“ç¶²é å¯ä»¥å»¶ä¼¸åˆ°æ•´å€‹è¢å¹•ï¼ŒåŒ…æ‹¬å®‰å…¨å€åŸŸä¹‹å¤–ã€‚

### æ­¥é©Ÿ 2ï¼šç§»é™¤ position: fixed
```css
/* âŒ éŒ¯èª¤ */
html, body {
  position: fixed;
}

/* âœ… æ­£ç¢º */
html, body {
  /* ä¸ä½¿ç”¨ position: fixed */
}
```

### æ­¥é©Ÿ 3ï¼šåœ¨ body å±¤ç´šè™•ç†å®‰å…¨å€åŸŸ
```css
body {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}
```

## è¦–è¦ºæ•ˆæœå°æ¯”

### ä¿®å¾©å‰ âŒ
```
iPhone 14 Pro (æœ‰ç€æµ·)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”‹ 10:50 ğŸ“¶ 100%  âš«ï¸            â”‚ â† ç‹€æ…‹åˆ— + ç€æµ·
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜° [Player1] [Player2]           â”‚ â† è¢«é®æ“‹ï¼
â”‚    0å‹0æ•—0ç„¡   0å‹0æ•—0ç„¡         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚         æ£‹ç›¤å€åŸŸ                â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¿®å¾©å¾Œ âœ…
```
iPhone 14 Pro (æœ‰ç€æµ·)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”‹ 10:50 ğŸ“¶ 100%  âš«ï¸            â”‚ â† ç‹€æ…‹åˆ— + ç€æµ·
â”‚                                 â”‚ â† å®‰å…¨å€åŸŸï¼ˆè‡ªå‹•ç•™ç™½ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜° [Player1] [Player2]           â”‚ â† å®Œæ•´é¡¯ç¤ºï¼âœ…
â”‚    0å‹0æ•—0ç„¡   0å‹0æ•—0ç„¡         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚         æ£‹ç›¤å€åŸŸ                â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚ â† å®‰å…¨å€åŸŸï¼ˆè‡ªå‹•ç•™ç™½ï¼‰
â”‚         [ è‘—æ‰‹ ]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä¸åŒè¨­å‚™çš„å®‰å…¨å€åŸŸå€¼

### iPhone 14 Pro / 15 Pro (æœ‰ç€æµ·)
```css
env(safe-area-inset-top): 47px     /* é ‚éƒ¨ç€æµ· */
env(safe-area-inset-bottom): 34px  /* åº•éƒ¨ Home Indicator */
env(safe-area-inset-left): 0px
env(safe-area-inset-right): 0px
```

### iPhone SE / èˆŠæ©Ÿå‹ (ç„¡ç€æµ·)
```css
env(safe-area-inset-top): 20px     /* ç‹€æ…‹åˆ— */
env(safe-area-inset-bottom): 0px   /* ç„¡ Home Indicator */
env(safe-area-inset-left): 0px
env(safe-area-inset-right): 0px
```

### æ©«å±æ¨¡å¼
```css
env(safe-area-inset-top): 0px
env(safe-area-inset-bottom): 21px
env(safe-area-inset-left): 44px    /* ç€æµ·åœ¨å·¦å´ */
env(safe-area-inset-right): 44px   /* æˆ–å³å´ */
```

## æ¸¬è©¦æ¸…å–®

### âœ… å¿…é ˆæ¸¬è©¦çš„è¨­å‚™/æƒ…æ³

- [ ] iPhone 14 Pro / 15 Pro (æœ‰ç€æµ·)
- [ ] iPhone SE / 8 (ç„¡ç€æµ·)
- [ ] iPad (ç„¡ç€æµ·)
- [ ] ç›´å±æ¨¡å¼
- [ ] æ©«å±æ¨¡å¼
- [ ] Safari ç€è¦½å™¨
- [ ] Chrome iOS ç€è¦½å™¨

### æ¸¬è©¦æ–¹æ³•

1. **åœ¨çœŸå¯¦è¨­å‚™ä¸Šæ¸¬è©¦**ï¼ˆæœ€æº–ç¢ºï¼‰
   ```
   http://ä½ çš„IP:3000
   ```

2. **ä½¿ç”¨ Safari é–‹ç™¼è€…å·¥å…·**
   - æ‰“é–‹ Safari > é–‹ç™¼ > é€²å…¥éŸ¿æ‡‰å¼è¨­è¨ˆæ¨¡å¼
   - é¸æ“‡ iPhone 14 Pro
   - æŸ¥çœ‹æ˜¯å¦æœ‰å®‰å…¨å€åŸŸç•™ç™½

3. **æª¢æŸ¥å…ƒç´ **
   - åœ¨ Safari ä¸­æ‰“é–‹æª¢æŸ¥å™¨
   - æŸ¥çœ‹ `body` çš„ computed padding
   - æ‡‰è©²çœ‹åˆ° `padding-top: 47px`ï¼ˆiPhone 14 Proï¼‰

## å¸¸è¦‹å•é¡Œ

### Q1: ç‚ºä»€éº¼æ¡Œé¢ç€è¦½å™¨ä¹Ÿæœ‰ paddingï¼Ÿ
A: ä¸æœƒã€‚`env(safe-area-inset-*)` åœ¨æ¡Œé¢ç€è¦½å™¨ä¸Šè¿”å› `0px`ï¼Œæ‰€ä»¥ä¸æœƒæœ‰é¡å¤–çš„ paddingã€‚

### Q2: æœƒä¸æœƒå½±éŸ¿ Android æ‰‹æ©Ÿï¼Ÿ
A: ä¸æœƒã€‚Android ç€è¦½å™¨ä¹Ÿæœƒè¿”å› `0px`ï¼Œé™¤éè¨­å‚™æœ‰é¡ä¼¼çš„å®‰å…¨å€åŸŸéœ€æ±‚ã€‚

### Q3: æ©«å±æ¨¡å¼æœƒæ€æ¨£ï¼Ÿ
A: å®‰å…¨å€åŸŸæœƒè‡ªå‹•èª¿æ•´åˆ°å·¦å³å…©å´ï¼Œ`env()` æœƒè¿”å›æ­£ç¢ºçš„å€¼ã€‚

### Q4: å¦‚ä½•åœ¨é–‹ç™¼æ™‚æ¸¬è©¦ï¼Ÿ
A: ä½¿ç”¨ Safari çš„éŸ¿æ‡‰å¼è¨­è¨ˆæ¨¡å¼ï¼Œæˆ–åœ¨çœŸå¯¦ iPhone ä¸Šæ¸¬è©¦ã€‚Chrome DevTools çš„æ¨¡æ“¬å™¨å¯èƒ½ä¸æº–ç¢ºã€‚

## ç¨‹å¼ç¢¼è®Šæ›´ç¸½çµ

### frontend/src/style.css
```diff
- html, body {
-   position: fixed;
- }

+ body {
+   padding-top: env(safe-area-inset-top);
+   padding-bottom: env(safe-area-inset-bottom);
+   padding-left: env(safe-area-inset-left);
+   padding-right: env(safe-area-inset-right);
+ }
```

### frontend/index.html
```html
<meta name="viewport" content="viewport-fit=cover">
```

## åƒè€ƒè³‡æ–™

- [Apple - Designing Websites for iPhone X](https://webkit.org/blog/7929/designing-websites-for-iphone-x/)
- [MDN - env()](https://developer.mozilla.org/en-US/docs/Web/CSS/env)
- [CSS-Tricks - The Notch and CSS](https://css-tricks.com/the-notch-and-css/)


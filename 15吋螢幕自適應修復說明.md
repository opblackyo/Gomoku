# 15吋螢幕自適應修復說明

## 問題描述
在15吋螢幕（通常是 1366x768 或 1920x1080）上，棋盤過大導致底部按鈕被覆蓋，無法正常操作。

## 問題原因
1. **棋格尺寸過大**：原本的響應式設計在 769px-1200px 範圍內使用 36px 的棋格，對於15吋筆電來說過大
2. **佈局問題**：桌面版使用了絕對定位，導致棋盤無法正確計算可用空間
3. **缺少高度限制**：棋盤容器沒有 `max-height` 限制，導致在小高度螢幕上溢出

## 解決方案

### 1. 優化響應式斷點（BoardComponent.vue）

調整棋格尺寸，為不同螢幕尺寸提供更合適的大小：

```css
/* 小型桌面/筆電 (769px-1024px) - 如 15吋筆電 */
@media (min-width: 769px) and (max-width: 1024px) {
  .board-wrapper {
    --cell-size: 28px;  /* 從 36px 降低到 28px */
  }
  .coord-label {
    font-size: 0.75rem;
  }
}

/* 中型桌面 (1025px-1440px) */
@media (min-width: 1025px) and (max-width: 1440px) {
  .board-wrapper {
    --cell-size: 34px;  /* 適中的尺寸 */
  }
  .coord-label {
    font-size: 0.85rem;
  }
}

/* 大型桌面 (>1440px) */
@media (min-width: 1441px) {
  .board-wrapper {
    --cell-size: 40px;  /* 從 42px 降低到 40px */
  }
  .coord-label {
    font-size: 1rem;
  }
}
```

### 2. 添加容器尺寸限制（BoardComponent.vue）

確保棋盤容器不會超出可用空間：

```css
.board-container {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: auto;
  padding: 0.5rem;
  max-height: 100%;  /* 新增 */
  max-width: 100%;   /* 新增 */
}

.board-wrapper {
  display: flex;
  flex-direction: column;
  background: #daa520;
  border-radius: 8px;
  padding: 0.5rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  max-width: 100%;   /* 新增 */
  max-height: 100%;  /* 新增 */
}
```

### 3. 修復桌面版佈局（GameView.vue）

改為使用相對定位，確保元素正確排列：

```css
/* 桌面版樣式 */
@media (min-width: 768px) {
  .game-view {
    /* 保持 column 佈局，確保 top-bar, board, bottom-bar 垂直排列 */
    flex-direction: column;
    padding: 0;
  }

  .top-bar {
    /* 改為相對定位 */
    position: relative;
  }

  .bottom-bar {
    /* 改為相對定位 */
    position: relative;
  }

  .board-container {
    padding: 1rem;
  }
}
```

### 4. 針對小高度螢幕優化（GameView.vue）

為高度小於 800px 的桌面螢幕（如15吋筆電）優化間距：

```css
@media (max-height: 800px) and (min-width: 768px) {
  .top-bar {
    padding: 0.4rem;  /* 減少 padding */
  }

  .player-card {
    padding: 0.4rem 0.3rem;  /* 減少 padding */
  }

  .avatar {
    width: 32px;   /* 從 36px 縮小 */
    height: 32px;
  }

  .player-name {
    font-size: 0.85rem;  /* 縮小字體 */
  }

  .player-stats {
    font-size: 0.7rem;  /* 縮小字體 */
  }

  .bottom-bar {
    padding: 0.5rem;  /* 減少 padding */
  }

  .confirm-btn {
    padding: 0.6rem 1.5rem;  /* 減少 padding */
    font-size: 1rem;
    min-height: 40px;  /* 從 48px 降低 */
  }

  .board-container {
    padding: 0.5rem;  /* 減少 padding */
  }
}
```

## 修改的文件

1. **frontend/src/components/BoardComponent.vue**
   - 優化響應式斷點，為不同螢幕尺寸提供更合適的棋格大小
   - 添加容器尺寸限制（max-height, max-width）

2. **frontend/src/views/GameView.vue**
   - 修復桌面版佈局，改用相對定位
   - 添加針對小高度螢幕的優化

## 效果

### 棋格尺寸對比

| 螢幕尺寸 | 舊版 | 新版 | 棋盤總尺寸（15x15） |
|---------|------|------|-------------------|
| 手機 (<480px) | 22px | 22px | 330px |
| 平板 (481-768px) | 26px | 26px | 390px |
| 小筆電 (769-1024px) | 36px | **28px** | **420px** ⬇️ |
| 中桌面 (1025-1440px) | 36px | **34px** | **510px** |
| 大桌面 (>1440px) | 42px | **40px** | **600px** ⬇️ |

### 15吋筆電（1366x768）效果
- 棋盤尺寸：420px（含座標約 450px）
- 頂部欄：約 60px
- 底部欄：約 60px
- 剩餘空間：768 - 60 - 60 = 648px
- **棋盤完全可見，按鈕不會被覆蓋** ✅

## 測試建議

1. **不同螢幕尺寸測試**
   - 15吋筆電 (1366x768)
   - 15吋筆電 (1920x1080)
   - 13吋筆電 (1280x800)
   - 大桌面 (1920x1080, 2560x1440)

2. **瀏覽器縮放測試**
   - 使用瀏覽器開發者工具調整視窗大小
   - 測試不同的寬度和高度組合

3. **功能測試**
   - 確認棋盤可以正常點擊
   - 確認底部按鈕可以正常點擊
   - 確認在所有尺寸下都能看到完整的遊戲界面

## 構建測試

```bash
pnpm build
# ✓ built in 1.69s
# ✅ 構建成功
```

